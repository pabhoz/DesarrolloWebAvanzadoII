<!DOCTYPE html>
<html lang="es">
	<head>
		<title>Reading Files With JS</title>
		<meta charset="UTF-8">
	</head>
	<body>
		<h1>Reading Files with JS</h1>
		<p>Los archivos solo pueden cargarse de manera asincronica mediante peticiones HTTP, pero como no sabemos AJAX aún vamos a hacer una trampilla</p>
		<h4>Este es un archivo JSON de ejemplo:</h4>
		<p><a href="./leFile.json" target="_BLANK">leFile.json</a></p>
		<p><a href="./leBasic.json" target="_BLANK">leBasic.json</a></p>
		<h4>Este es un archivo XML de ejemplo:</h4>
		<h6>XML está fuera de moda U_U</h6>
		<p><a href="./leBasic.xml" target="_BLANK">leBasic.xml</a></p>
		<h2>Espacio de pruebas!!!</h2>
		<div id="test"></div>
		<!-- A-->
		<script>
		var json = '{ "desarrolloWebAvanzado": {"id" : 75363, "docente" : "Pablo Bejarano", "estudiantes" : [ { "nombre" : "Camilito", "nivel" : 20 , "clase" : "No-muerto"}, {"nombre" : "Paulita", "nivel" : 80 , "clase" : "Elfa de sangre"} , {"nombre" : "Tatiana", "nivel" : 16 , "clase" : "Mega Troll Berrugoso"}, { "nombre" : "Juan", "nivel" : 50, "clase" : "Draenei"}, {"nombre" : "karen" , "nivel" : 2, "clase" : "Elfo de la noche"}, {"nombre" : "Bejaranito" , "nivel" : 15, "clase" : "Humano"}, {"nombre" : "Paola" , "nivel" : 12, "clase" : "Orco"} ] } }';
		var parsedJSON = JSON.parse(json);

		console.log("json: "+ json);
		console.log(parsedJSON);
		console.log(parsedJSON.desarrolloWebAvanzado.estudiantes[2]);

		var estudiantes = parsedJSON.desarrolloWebAvanzado.estudiantes;
		var testSpace = document.getElementById("test");
		var table = document.createElement("table");
		table.border = 1;
		var  count = estudiantes.length;
		//Al pelo por la moni
		for (var j = count-1; j >=0; j--) {
			table.insertRow(0);
			for (var i = 0; i < Object.keys(estudiantes[0]).length; i++) {
				var currentKey = Object.keys(estudiantes[0])[i];
				table.rows[0].insertCell(i);
				table.rows[0].cells[i].innerHTML = estudiantes[j][currentKey];
			};
		};

		var tHeader = table.createTHead().insertRow(0);
		tHeader.insertCell().innerHTML ="Clase";
		tHeader.insertCell().innerHTML ="Level";
		tHeader.insertCell().innerHTML ="Nombre";

		console.log(table);
		testSpace.appendChild(table);

		</script>
		<style>
			table tr td{
				padding: 5px;
			}
			table thead{
				background-color: rgba(0,0,0,0.2);
			}
		</style>
	</body>
</html>